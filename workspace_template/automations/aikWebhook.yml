slug: aikWebhook
name: 02_Webhooks/receive-events
do:
  - conditions:
      '!{{run.sourceWorkspaceId}} || {{run.sourceWorkspaceId}} != {{global.workspacesRegistry[''ai-knowledge''].id}}':
        - set:
            name: output
            value:
              error: Forbidden
        - break: {}
  - conditions:
      '{{body.type}} == "queries"':
        - set:
            name: output
            value:
              answer: >-
                This response was triggered by a webhook. To customize your
                retrieval settings, go to AI Builder.
        - break: {}
output: '{{output}}'
when:
  endpoint: true
